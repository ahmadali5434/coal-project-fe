<h2 class="flex justify-center items-center text-3xl pt-8">
  {{ type === 'afghan' ? 'Afghan Gumrak Form' : 'Pakistan Custom Form' }}
</h2>
<mat-dialog-content class="mat-typography">
  <form [formGroup]="customForm">
    <div class="grid grid-cols-1 gap-y-3 w-full place-items-center my-12">
      <mat-form-field class="w-80">
        <mat-label>Choose a date</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="paymentDate">
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker">
          <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
        </mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
        <mat-form-field class="w-80">
          <mat-label>
            {{
              type === 'afghan'
                ? 'Enter Gumrak Amount (AFG)'
                : 'Enter Custom Amount (PKR)'
            }}
          </mat-label>
          <input matInput formControlName="customAmount" />
        </mat-form-field>
        <div class="w-80 h-44 relative">
          <input
            type="file"
            accept="image/*"
            #fileInput
            (change)="onImageSelected($event)"
            hidden
          />
          <mat-card
            class="h-full mx-auto flex items-center justify-center gap-4 flex-wrap box-border cursor-pointer"
            (click)="fileInput.click()"
          >
            @if (!selectedImage) {
              <span class="text-gray-800 text-center">
                {{
                  type === 'afghan'
                    ? 'Upload Gumrak Image'
                    : 'Upload Custom Image'
                }}
              </span>
            }
            
            @if(selectedImage) {
            <div class="flex w-full h-full items-center gap-2">
              <img
                [src]="selectedImage"
                alt="Custom Preview"
                class="w-full h-full object-contain rounded"
              />
              <button
                mat-icon-button
                color="warn"
                (click)="clearImage($event)"
                aria-label="Remove"
              >
                <mat-icon>delete</mat-icon>
              </button>
            </div>
            }
          </mat-card>
        </div>
    </div>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button matButton="outlined" mat-dialog-close>Cancel</button>
  <button matButton="filled" cdkFocusInitial (click)="onSave()">Save</button>
</mat-dialog-actions>
