<div class="mat-elevation-z4" style="padding: 32px; max-width: 900px; margin: auto; background: white; border-radius: 16px;">

  <h2 style="display: flex; align-items: center; gap: 8px; margin-bottom: 24px;">
    <span style="font-weight: 600; color: #1976d2;">Role Management</span>
    <span>{{ isEdit ? 'Edit Role' : 'Create Role' }}</span>
  </h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill" style="width: 100%; margin-bottom: 24px;">
      <mat-label>Role Name</mat-label>
      <input matInput formControlName="name" />
      <span matSuffix style="font-size: 14px; color: gray;"></span>
    </mat-form-field>
    <table mat-table [dataSource]="resources" class="mat-elevation-z2" style="width: 100%; margin-bottom: 24px;">

      <ng-container matColumnDef="resource">
        <th mat-header-cell *matHeaderCellDef> Resource </th>
        <td mat-cell *matCellDef="let res"> {{ res.label }} </td>
      </ng-container>

      <ng-container *ngFor="let a of actions" [matColumnDef]="a.key">
        <th mat-header-cell *matHeaderCellDef>
          {{ a.title }}
        </th>
        <td mat-cell *matCellDef="let res; let i = index">
          <mat-checkbox [formControl]="controlAt(i, a.key)"></mat-checkbox>
        </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <div style="display: flex; justify-content: flex-end; gap: 12px;">
      <button mat-stroked-button color="warn" type="button" (click)="onCancel()">Cancel</button>
      <button mat-flat-button color="primary" type="submit">
        {{ isEdit ? 'Save Changes' : 'Create Role' }}
      </button>
    </div>
  </form>
</div>
